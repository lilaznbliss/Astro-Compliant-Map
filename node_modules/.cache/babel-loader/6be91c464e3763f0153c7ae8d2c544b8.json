{"ast":null,"code":"import _classCallCheck from \"/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport SideNav from './components/SideNav.js';\nimport './components/SideNav.css';\nimport HamburgerMenu from './components/HamburgerMenu.js';\nimport './components/HamburgerMenu.css';\nimport ZoomControl from './components/ZoomControl.js';\nimport './components/ZoomControl.css';\nimport AstroMapMarker from \"./images/map-marker-small.svg\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      restaurants: [],\n      visibleRestaurants: [],\n      selectedRestaurantId: '',\n      markersArray: []\n    };\n\n    _this.renderMap = function () {\n      //passes Google Maps my API key\n      loadScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyAgXzDKjlWqOt-iPr3sJvcZuCIXbuQ4LlM&callback=initMap');\n      window.initMap = _this.initMap;\n    };\n\n    _this.initMap = function () {\n      //initialize the map\n      _this.map = new window.google.maps.Map(document.getElementById('map'), {\n        center: {\n          lat: 38.8706391,\n          lng: -104.770058\n        },\n        zoom: 10.83,\n        disableDefaultUI: true,\n        styles: [{\n          elementType: 'geometry',\n          stylers: [{\n            color: '#242f3e'\n          }]\n        }, {\n          elementType: 'labels.text.stroke',\n          stylers: [{\n            color: '#242f3e'\n          }]\n        }, {\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#746855'\n          }]\n        }, {\n          featureType: 'administrative.locality',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#d59563'\n          }]\n        }, {\n          featureType: 'poi',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#d59563'\n          }]\n        }, {\n          featureType: 'poi.park',\n          elementType: 'geometry',\n          stylers: [{\n            color: '#263c3f'\n          }]\n        }, {\n          featureType: 'poi.park',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#6b9a76'\n          }]\n        }, {\n          featureType: 'road',\n          elementType: 'geometry',\n          stylers: [{\n            color: '#38414e'\n          }]\n        }, {\n          featureType: 'road',\n          elementType: 'geometry.stroke',\n          stylers: [{\n            color: '#212a37'\n          }]\n        }, {\n          featureType: 'road',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#9ca5b3'\n          }]\n        }, {\n          featureType: 'road.highway',\n          elementType: 'geometry',\n          stylers: [{\n            color: '#746855'\n          }]\n        }, {\n          featureType: 'road.highway',\n          elementType: 'geometry.stroke',\n          stylers: [{\n            color: '#1f2835'\n          }]\n        }, {\n          featureType: 'road.highway',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#f3d19c'\n          }]\n        }, {\n          featureType: 'transit',\n          elementType: 'geometry',\n          stylers: [{\n            color: '#2f3948'\n          }]\n        }, {\n          featureType: 'transit.station',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#d59563'\n          }]\n        }, {\n          featureType: 'water',\n          elementType: 'geometry',\n          stylers: [{\n            color: '#17263c'\n          }]\n        }, {\n          featureType: 'water',\n          elementType: 'labels.text.fill',\n          stylers: [{\n            color: '#515c6d'\n          }]\n        }, {\n          featureType: 'water',\n          elementType: 'labels.text.stroke',\n          stylers: [{\n            color: '#17263c'\n          }]\n        }]\n      }); //creating customized zoom control\n\n      var controlDiv = document.getElementById('control-div');\n      var controlUI = document.getElementById('control-ui');\n      var controlText = document.getElementById('control-text');\n      controlDiv.index = 1;\n\n      _this.map.controls[window.google.maps.ControlPosition.TOP_RIGHT].push(controlDiv); //end of custom zoom control\n\n\n      _this.infoWindow = new window.google.maps.InfoWindow({\n        maxWidth: 200\n      }); //array of markers\n\n      var markers = []; //creates a marker and content info variable\n\n      _this.state.restaurants.forEach(function (myRestaurant) {\n        var contentInfo = _this.makeContentInfo(myRestaurant);\n\n        var marker = _this.makeMarker(myRestaurant);\n\n        markers.push(marker); //Creates an event listener for each Marker\n\n        marker.addListener('click', function () {\n          _this.openMarker(myRestaurant, marker, contentInfo);\n        });\n      }); //sets the state of the markers\n\n\n      _this.setState({\n        markersArray: markers\n      }); // Removes the highlighting on the restaurant list item when the content info is closed\n\n\n      window.google.maps.event.addListener(_this.infoWindow, 'closeclick', function () {\n        _this.state.markersArray.forEach(function (marker) {\n          _this.bounceOff(marker);\n        });\n\n        var selectedElement = document.getElementsByClassName('selected')[0];\n        selectedElement.classList.remove('selected');\n\n        _this.setState({\n          selectedRestaurantId: ''\n        });\n      });\n    };\n\n    _this.relevantRestaurants = function (updatedRestaurants) {\n      _this.setState({\n        visibleRestaurants: updatedRestaurants\n      });\n    };\n\n    _this.makeContentInfo = function (restaurant) {\n      return '<div className=\"content\">' + '<div className=\"siteNotice\">' + '</div>' + '<h2 id=\"firstHeading className=\"firstHeading\" tabindex=\"3\" aria-label=\"restaurant name\">' + restaurant.venue.name + '</h2>' + '<div className=\"bodyContent\">' + '<p tabindex=\"4\" aria-label=\"restaurant location\"><strong>Location: </strong><br>' + restaurant.venue.location.formattedAddress[0] + '<br>' + restaurant.venue.location.formattedAddress[1] + '<br>' + restaurant.venue.location.formattedAddress[2] + '</p>' + '<div className=\"attribution\"> <img src=\"https://i.ibb.co/nC4Rxqx/Foursquare-City-Guide-Android.png\" alt=\"four square logo\" tabindex=\"5\"/> </div>' + '</div>' + '</div>';\n    };\n\n    _this.makeMarker = function (restaurant) {\n      return new window.google.maps.Marker({\n        position: {\n          lat: restaurant.venue.location.lat,\n          lng: restaurant.venue.location.lng\n        },\n        map: _this.map,\n        icon: AstroMapMarker,\n        //size: new window.google.maps.Size(4,7),\n        title: restaurant.venue.name,\n        animation: null,\n        restaurantId: restaurant.venue.id\n      });\n    };\n\n    _this.bounceOn = function (marker) {\n      marker.setAnimation(window.google.maps.Animation.BOUNCE);\n    };\n\n    _this.bounceOff = function (marker) {\n      marker.setAnimation(null);\n    };\n\n    _this.openMarker = function (restaurant, marker, contentInfo) {\n      _this.state.markersArray.forEach(function (m) {\n        if (m !== marker) {\n          _this.bounceOff(m);\n        }\n      });\n\n      _this.infoWindow.setContent(contentInfo);\n\n      _this.infoWindow.open(_this.map, marker);\n\n      _this.bounceOn(marker);\n\n      _this.setState({\n        selectedRestaurantId: restaurant.venue.id\n      });\n    };\n\n    _this.getRestaurants = function () {\n      //Creates Endpoint and Query Parameters\n      var endPoint = 'https://api.foursquare.com/v2/venues/explore?';\n      var parameters = {\n        client_id: '0SV2TNKYX2QKFWQFYNPJN2D3MVL1DQ4FGWB2HUHODSGFZT1O',\n        client_secret: 'N5ZNTGGYEVKPMT2YPUQYQCZJIFOGGGJKGSLGANFJVMJ2EZKS',\n        query: 'sushi',\n        near: 'Colorado Springs, CO',\n        v: '20181006' //Uses Axios to query foursquare api\n        //Axios processes http get requests\n\n      };\n      axios.get(endPoint + new URLSearchParams(parameters)).then(function (response) {\n        _this.setState({\n          restaurants: response.data.response.groups[0].items,\n          visibleRestaurants: response.data.response.groups[0].items //calls render map\n\n        }, _this.renderMap());\n      }) //catches the possible errors and logs them to the console\n      .catch(function (error) {\n        console.log('Error: ' + error);\n      });\n    };\n\n    _this.zoomIn = function () {\n      _this.map.setZoom(_this.map.getZoom() + 1);\n    };\n\n    _this.zoomOut = function () {\n      _this.map.setZoom(_this.map.getZoom() - 1);\n    };\n\n    _this.flatMap = function () {\n      _this.map.setMapTypeId('roadmap');\n    };\n\n    _this.satMap = function () {\n      _this.map.setMapTypeId('hybrid');\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getRestaurants();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wholePage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"headersBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(HamburgerMenu, {\n        tabindex: \"2\",\n        role: \"menu\",\n        \"aria-label\": \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"app-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        tabIndex: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Hannah's Favorite Sushi Restaurants\"))), React.createElement(\"div\", {\n        className: \"app-window\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(SideNav, {\n        restaurants: this.state.restaurants,\n        visibleRestaurants: this.state.visibleRestaurants,\n        selectedRestaurantId: this.state.selectedRestaurantId,\n        markersArray: this.state.markersArray,\n        makeContentInfo: this.makeContentInfo,\n        makeMarker: this.makeMarker,\n        openMarker: this.openMarker,\n        relevantRestaurants: this.relevantRestaurants,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(ZoomControl, {\n        zoomIn: this.zoomIn,\n        zoomOut: this.zoomOut,\n        flatMap: this.flatMap,\n        satMap: this.satMap,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var selectedRestaurant = document.getElementsByClassName('restaurant-item selected')[0];\n\n      if (selectedRestaurant) {\n        selectedRestaurant.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n    }\n  }]);\n\n  return App;\n}(Component); //Forms API call for Google maps\n//obtained from https://github.com/VolantTyler/tjs-react-neighborhood-map-v2/blob/master/src/App.js\n\n\nfunction loadScript(url) {\n  var index = window.document.getElementsByTagName('script')[0];\n  var script = window.document.createElement('script');\n  script.src = url;\n  script.async = true;\n  script.defer = true;\n  index.parentNode.insertBefore(script, index);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/hannah/Documents/Rocket-Programming-Projects/Astro-React-Map-final/src/App.js"],"names":["React","Component","axios","SideNav","HamburgerMenu","ZoomControl","App","state","restaurants","visibleRestaurants","selectedRestaurantId","markersArray","renderMap","loadScript","window","initMap","map","google","maps","Map","document","getElementById","center","lat","lng","zoom","disableDefaultUI","styles","elementType","stylers","color","featureType","controlDiv","controlUI","controlText","index","controls","ControlPosition","TOP_RIGHT","push","infoWindow","InfoWindow","maxWidth","markers","forEach","myRestaurant","contentInfo","makeContentInfo","marker","makeMarker","addListener","openMarker","setState","event","bounceOff","selectedElement","getElementsByClassName","classList","remove","relevantRestaurants","updatedRestaurants","restaurant","venue","name","location","formattedAddress","Marker","position","icon","AstroMapMarker","title","animation","restaurantId","id","bounceOn","setAnimation","Animation","BOUNCE","m","setContent","open","getRestaurants","endPoint","parameters","client_id","client_secret","query","near","v","get","URLSearchParams","then","response","data","groups","items","catch","error","console","log","zoomIn","setZoom","getZoom","zoomOut","flatMap","setMapTypeId","satMap","selectedRestaurant","scrollIntoView","behavior","url","getElementsByTagName","script","createElement","src","async","defer","parentNode","insertBefore"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport './App.css';\nimport SideNav from './components/SideNav.js';\nimport './components/SideNav.css';\nimport HamburgerMenu from './components/HamburgerMenu.js';\nimport './components/HamburgerMenu.css';\nimport ZoomControl from './components/ZoomControl.js';\nimport './components/ZoomControl.css';\n\nimport AstroMapMarker from './images/map-marker-small.svg';\n\nclass App extends Component {\n\n//various states\n  state = {\n    restaurants: [],\n    visibleRestaurants: [],\n    selectedRestaurantId: '',\n    markersArray: []\n  };\n\n  infoWindow;\n  map;\n\n  componentDidMount() {\n    this.getRestaurants();\n  }\n\n  renderMap = () => {\n    //passes Google Maps my API key\n    loadScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyAgXzDKjlWqOt-iPr3sJvcZuCIXbuQ4LlM&callback=initMap')\n    window.initMap = this.initMap\n  }\n\n  initMap = () => {\n    //initialize the map\n    this.map = new window.google.maps.Map(document.getElementById('map'), {\n      center: {lat: 38.8706391, lng: -104.770058},\n      zoom: 10.83,\n      disableDefaultUI: true,\n      styles: [\n            {elementType: 'geometry', stylers: [{color: '#242f3e'}]},\n            {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},\n            {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},\n            {\n              featureType: 'administrative.locality',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#d59563'}]\n            },\n            {\n              featureType: 'poi',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#d59563'}]\n            },\n            {\n              featureType: 'poi.park',\n              elementType: 'geometry',\n              stylers: [{color: '#263c3f'}]\n            },\n            {\n              featureType: 'poi.park',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#6b9a76'}]\n            },\n            {\n              featureType: 'road',\n              elementType: 'geometry',\n              stylers: [{color: '#38414e'}]\n            },\n            {\n              featureType: 'road',\n              elementType: 'geometry.stroke',\n              stylers: [{color: '#212a37'}]\n            },\n            {\n              featureType: 'road',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#9ca5b3'}]\n            },\n            {\n              featureType: 'road.highway',\n              elementType: 'geometry',\n              stylers: [{color: '#746855'}]\n            },\n            {\n              featureType: 'road.highway',\n              elementType: 'geometry.stroke',\n              stylers: [{color: '#1f2835'}]\n            },\n            {\n              featureType: 'road.highway',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#f3d19c'}]\n            },\n            {\n              featureType: 'transit',\n              elementType: 'geometry',\n              stylers: [{color: '#2f3948'}]\n            },\n            {\n              featureType: 'transit.station',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#d59563'}]\n            },\n            {\n              featureType: 'water',\n              elementType: 'geometry',\n              stylers: [{color: '#17263c'}]\n            },\n            {\n              featureType: 'water',\n              elementType: 'labels.text.fill',\n              stylers: [{color: '#515c6d'}]\n            },\n            {\n              featureType: 'water',\n              elementType: 'labels.text.stroke',\n              stylers: [{color: '#17263c'}]\n            }\n          ]\n\n        });\n\n    //creating customized zoom control\n    let controlDiv = document.getElementById('control-div');\n    let controlUI = document.getElementById('control-ui');\n    let controlText = document.getElementById('control-text');\n    controlDiv.index = 1;\n    this.map.controls[window.google.maps.ControlPosition.TOP_RIGHT].push(controlDiv);\n    //end of custom zoom control\n\n    this.infoWindow = new window.google.maps.InfoWindow({\n      maxWidth: 200\n    })\n    //array of markers\n    let markers = [];\n    //creates a marker and content info variable\n    this.state.restaurants.forEach(myRestaurant => {\n\n      let contentInfo = this.makeContentInfo(myRestaurant);\n      let marker = this.makeMarker(myRestaurant);\n      markers.push(marker);\n\n      //Creates an event listener for each Marker\n      marker.addListener('click', () => {\n        this.openMarker(myRestaurant, marker, contentInfo);\n      })\n    })\n    //sets the state of the markers\n    this.setState({markersArray: markers});\n\n    // Removes the highlighting on the restaurant list item when the content info is closed\n    window.google.maps.event.addListener(this.infoWindow, 'closeclick', () => {\n      this.state.markersArray.forEach(marker => {\n        this.bounceOff(marker);\n      })\n      let selectedElement = document.getElementsByClassName('selected')[0];\n      selectedElement.classList.remove('selected');\n      this.setState({selectedRestaurantId: ''});\n   })\n  }\n\n  //function that updates restaurant visibility array in state\n  relevantRestaurants = (updatedRestaurants) => {\n    this.setState({visibleRestaurants: updatedRestaurants});\n  }\n\n  //function that makes the restaurant content info string\n  makeContentInfo = (restaurant) => {\n    return '<div className=\"content\">' +\n      '<div className=\"siteNotice\">' +\n      '</div>' +\n      '<h2 id=\"firstHeading className=\"firstHeading\" tabindex=\"3\" aria-label=\"restaurant name\">' + restaurant.venue.name + '</h2>' +\n      '<div className=\"bodyContent\">' +\n      '<p tabindex=\"4\" aria-label=\"restaurant location\"><strong>Location: </strong><br>' +\n      restaurant.venue.location.formattedAddress[0] + '<br>' +\n      restaurant.venue.location.formattedAddress[1] + '<br>' +\n      restaurant.venue.location.formattedAddress[2] + '</p>' +\n      '<div className=\"attribution\"> <img src=\"https://i.ibb.co/nC4Rxqx/Foursquare-City-Guide-Android.png\" alt=\"four square logo\" tabindex=\"5\"/> </div>' +\n      '</div>' +\n      '</div>';\n      }\n\n  //Funcion that creates a marker for each restaurant location\n  makeMarker = (restaurant) => {\n    return new window.google.maps.Marker({\n      position: {lat: restaurant.venue.location.lat, lng: restaurant.venue.location.lng},\n      map: this.map,\n      icon: AstroMapMarker,\n      //size: new window.google.maps.Size(4,7),\n      title: restaurant.venue.name,\n      animation: null,\n      restaurantId: restaurant.venue.id\n    })\n  }\n\n  //Function that turns on the bounce animation on a selected marker\n  bounceOn = (marker) => {\n    marker.setAnimation(window.google.maps.Animation.BOUNCE);\n  }\n\n  //Function that turns off the bounce animation on a deselected marker\n  bounceOff = (marker) => {\n    marker.setAnimation(null);\n  }\n\n  //Function that opens the marker for a restaurant\n  openMarker = (restaurant, marker, contentInfo) => {\n    this.state.markersArray.forEach(m => {\n        if (m !== marker) {\n          this.bounceOff(m);\n      }\n    });\n    this.infoWindow.setContent(contentInfo);\n    this.infoWindow.open(this.map, marker);\n    this.bounceOn(marker);\n    this.setState({ selectedRestaurantId: restaurant.venue.id});\n  }\n\n  //Function that retrieves restaurant information from FourSquare\n  getRestaurants = () => {\n    //Creates Endpoint and Query Parameters\n    const endPoint = 'https://api.foursquare.com/v2/venues/explore?'\n    const parameters = {\n      client_id: '0SV2TNKYX2QKFWQFYNPJN2D3MVL1DQ4FGWB2HUHODSGFZT1O',\n      client_secret: 'N5ZNTGGYEVKPMT2YPUQYQCZJIFOGGGJKGSLGANFJVMJ2EZKS',\n      query: 'sushi',\n      near: 'Colorado Springs, CO',\n      v: '20181006'\n    }\n\n    //Uses Axios to query foursquare api\n    //Axios processes http get requests\n    axios.get(endPoint + new URLSearchParams(parameters))\n      .then(response => {\n        this.setState({\n          restaurants: response.data.response.groups[0].items,\n          visibleRestaurants: response.data.response.groups[0].items\n        //calls render map\n        }, this.renderMap())\n      })\n      //catches the possible errors and logs them to the console\n      .catch(error => {\n        console.log('Error: '+ error)\n      })\n  }\n\n  zoomIn = () => {\n    this.map.setZoom(this.map.getZoom() + 1);\n  }\n\n  zoomOut = () => {\n    this.map.setZoom(this.map.getZoom() - 1);\n  }\n\n  flatMap = () => {\n    this.map.setMapTypeId('roadmap');\n  }\n\n  satMap = () => {\n    this.map.setMapTypeId('hybrid');\n  }\n\n  render() {\n    return (\n      <div className='wholePage'>\n        <div className='headersBar'>\n          <div className=\"menu\">\n            <HamburgerMenu tabindex=\"2\" role=\"menu\" aria-label=\"menu\"/>\n          </div>\n          <div className=\"app-title\">\n            <h1 tabIndex=\"1\">Hannah&#39;s Favorite Sushi Restaurants</h1>\n          </div>\n        </div>\n        <div className='app-window'>\n          <SideNav\n            restaurants={this.state.restaurants}\n            visibleRestaurants={this.state.visibleRestaurants}\n            selectedRestaurantId={this.state.selectedRestaurantId}\n            markersArray={this.state.markersArray}\n            makeContentInfo={this.makeContentInfo}\n            makeMarker={this.makeMarker}\n            openMarker={this.openMarker}\n            relevantRestaurants={this.relevantRestaurants}/>\n          <div id='map' />\n          <ZoomControl\n            zoomIn={this.zoomIn}\n            zoomOut={this.zoomOut}\n            flatMap={this.flatMap}\n            satMap={this.satMap} />\n        </div>\n      </div>\n    );\n  }\n\n  componentDidUpdate() {\n    let selectedRestaurant = document.getElementsByClassName('restaurant-item selected')[0];\n    if (selectedRestaurant) {\n      selectedRestaurant.scrollIntoView({behavior: 'smooth'});\n    }\n  }\n}\n\n//Forms API call for Google maps\n//obtained from https://github.com/VolantTyler/tjs-react-neighborhood-map-v2/blob/master/src/App.js\nfunction loadScript (url) {\n  const index = window.document.getElementsByTagName('script')[0];\n  const script = window.document.createElement('script');\n  script.src = url;\n  script.async = true;\n  script.defer = true;\n  index.parentNode.insertBefore(script, index);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}